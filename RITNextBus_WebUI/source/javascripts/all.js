/*jslint browser: true*//*global $, jQuery*///= require_tree .function updateNextBusses(day, currentTime) {    //day is an int 0-6 representing the day. Follows how the JS Date object orders them Sun-Sat    //int in format HHMM where HH is hours 00-23 and MM is mins 00-59    //use strict;    //console.log(DEBUG: the day is:  + day +  the time is:  + currentTime);    var toProvinceTimes = [[1215, 1327, 1509, 1621, 1723, 1835, 1947, 2129, 2243, 2305, 2327, 2349],                    ///sunday                    [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2239, 2304, 2329, 2349],                     //monday                    [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2239, 2304, 2329, 2349],                     //tuesday                    [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2239, 2304, 2329, 2349],                     //wednesday                    [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2239, 2304, 2329, 2349],                     //thursday                     [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2239, 2304, 2329, 2349],                     //friday                     [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2243, 2305, 2327, 2349]                     //saturday                     ];    var fromProvinceTimes =    [[1014, 1112, 1224, 1406, 1518, 1620, 1732, 1844, 2026, 2230, 2252, 2314, 2336, 2358],    //sunday    [741, 756, 812, 826, 841, 906, 922, 941, 956, 1012, 1026, 1041, 1056,    1111, 1126, 1141, 1156, 1212, 1226, 1241, 1256, 1312, 1326, 1341, 1412, 1426,    1441, 1456, 1512, 1526, 1541, 1556, 1611, 1627, 1643, 1659, 1715, 1731, 1748,    1805, 1830, 1855, 1925, 1955, 2025, 2055, 2125, 2155, 2225, 2250, 2315, 2336, 2358],    //monday thru thursday    [741, 756, 812, 826, 841, 906, 922, 941, 956, 1012, 1026, 1041, 1056,    1111, 1126, 1141, 1156, 1212, 1226, 1241, 1256, 1312, 1326, 1341, 1412, 1426,    1441, 1456, 1512, 1526, 1541, 1556, 1611, 1627, 1643, 1659, 1715, 1731, 1748,    1805, 1830, 1855, 1925, 1955, 2025, 2055, 2125, 2155, 2225, 2250, 2315, 2336, 2358],    //friday    [741, 756, 812, 826, 841, 906, 922, 941, 956, 1012, 1026, 1041, 1056,    1111, 1126, 1141, 1156, 1212, 1226, 1241, 1256, 1312, 1326, 1341, 1412, 1426,    1441, 1456, 1512, 1526, 1541, 1556, 1611, 1627, 1643, 1659, 1715, 1731, 1748,    1805, 1830, 1855, 1925, 1955, 2025, 2055, 2125, 2155, 2230, 2252, 2314, 2336, 2358],    //saturday    [1014, 1112, 1224, 1406, 1518, 1620, 1732, 1844, 2026, 2138, 2230, 2252, 2314, 2336, 2358]    ];    var times = toProvinceTimes[day];    var toProvince = $(toProvince);//province home list TODO add other routes    toProvince.text();//clear time    for (var i = 0, tot = times.length; i < tot; i++) {//for each bus time stop @ this station (province -> campus)        var time = times[i];        var currentDate = new Date();        var currentHours = currentDate.getHours();        var currentTime = currentHours*100 + currentDate.getMinutes();        var currentSeconds = currentDate.getSeconds();        //currentTime format: HHMM        if (time > currentTime) {//bus time is in the future            var hoursLeft = Math.round(time/100)-currentHours-1;            var timeMin = time % 100;            var currentMin = currentTime % 100;            var minLeft = Math.floor(time - currentTime);            if (timeMin < currentMin) {                minLeft = (60 - currentMin) + timeMin;            }            minLeft -= 1;            minLeft %= 100;            //console.log(time +  -  + currentTime +  =  + minLeft);            var secondsLeft = 60 - currentSeconds;            var timeString = hoursLeft.toString() + ":" + minLeft.toString() + ":" + secondsLeft.toString();            //console.log(timeString);            var toProvince = $("#toProvince");            toProvince.text();//clear time            toProvince.text(timeString);            //toProvince.value = ;//clear time            //toProvince.value = timeString;            return;//we're done here        }    }};window.setInterval(function() {    //use strict;    var d = new Date()    updateNextBusses(d.getDay(), d.getHours()*100 + d.getMinutes())}, 1000);//run once a second