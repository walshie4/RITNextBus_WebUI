/*jslint browser: true*//*global $, jQuery*///= require_tree .function updateNextBusses(day, currentTime) {    //day is an int 0-6 representing the day. Follows how the JS Date object orders them Sun-Sat    //int in format HHMM where HH is hours 00-23 and MM is mins 00-59    "use strict";    console.log("DEBUG: the day is: " + day + " the time is: " + currentTime);    var busTimes = [[1215, 1327, 1509, 1621, 1723, 1835, 1947, 2129, 2243, 2305, 2327, 2349],                    ///sunday                    [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2239, 2304, 2329, 2349],                     //monday                    [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2239, 2304, 2329, 2349],                     //tuesday                    [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2239, 2304, 2329, 2349],                     //wednesday                    [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2239, 2304, 2329, 2349],                     //thursday                     [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2239, 2304, 2329, 2349],                     //friday                     [733, 748, 803, 819, 833, 848, 913, 929, 948, 1003,                     1019, 1033, 1048, 1103, 1118, 1133, 1148, 1203, 1219, 1233,                     1248, 1303, 1319, 1333, 1348, 1419, 1433, 1448, 1503, 1519,                     1533, 1548, 1603, 1619, 1635, 1651, 1707, 1723, 1739, 1756,                     1813, 1819, 1844, 1909, 1939, 2009, 2039, 2109, 2139, 2209,                     2243, 2305, 2327, 2349]                     //saturday                     ];    var times = busTimes[day];    var toProvince = $("toProvince");//province home list TODO add other routes    toProvince.text("");//clear time    for (var i = 0, tot = times.length; i < tot; i++) {//for each bus time stop @ this station (province -> campus)        var time = times[i];        var currentDate = new Date();        var currentTime = currentDate.getHours()*100 + currentDate.getMinutes();        var currentSeconds = currentDate.getSeconds();        //currentTime format: HHMM        if (time > currentTime) {//bus time is in the future            var timeMin = time % 100;            var currentMin = currentTime % 100;            var minLeft = Math.floor(time - currentTime);            if (timeMin < currentMin) {                minLeft = (60 - currentMin) + timeMin;            }            minLeft -= 1;            //console.log(time + " - " + currentTime + " = " + minLeft);            var secondsLeft = 60 - currentSeconds;            var timeString = minLeft.toString() + ":" + secondsLeft.toString();            var toProvince = $("#toProvince");            console.log(toProvince);            toProvince.text("");//clear time            toProvince.text(timeString);            //toProvince.value = "";//clear time            //toProvince.value = timeString;            return;//we're done here        }    }};window.setInterval(function() {    "use strict";    var d = new Date()    updateNextBusses(d.getDay(), d.getHours()*100 + d.getMinutes())}, 1000);//run once a second